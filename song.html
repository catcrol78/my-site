<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Песня</title>
</head>
<body>
  <div id="app">
    <a href="index.html">← Назад</a>
    <div id="content"></div>
  </div>

  <script src="songs-data.js"></script>
  <script>
    // Получаем ID из URL
    const urlParams = new URLSearchParams(window.location.search);
    const songId = parseInt(urlParams.get('id'));
    
    const contentDiv = document.getElementById('content');
    
    // Проверяем, загрузились ли данные
    if (typeof songsDataFromExternal === 'undefined') {
      contentDiv.innerHTML = '<h2 style="color:red">Ошибка: данные не загружены!</h2>';
    } else {
      const song = songsDataFromExternal.find(s => s.id === songId);
      
      if (song) {
        contentDiv.innerHTML = `
          <h1>${song.title.ru}</h1>
          <h2>${song.artist}</h2>
          <p>ID: ${song.id}</p>
          <p>YouTube: ${song.youtubeId}</p>
          <h3>Текст:</h3>
          ${song.lyrics.map(l => `<p>${l.text}</p>`).join('')}
        `;
      } else {
        contentDiv.innerHTML = `
          <h2 style="color:red">Песня с ID ${songId} не найдена!</h2>
          <p>Доступные ID: ${songsDataFromExternal.map(s => s.id).join(', ')}</p>
        `;
      }
    }
  </script>
</body>
</html>
